function theAudioLoop(i,a){for(var e=0;a>e;e++)trackPosition++,void 0!=i[trackPosition]?(printSong(i[trackPosition].id,i[trackPosition].title,i[trackPosition].duration),streamTrack(i[trackPosition].duration,i[trackPosition].id)):$(".mastracks").html("")}function printSong(i,a,e){$(".audio-list").append('<div class="clearfix '+i+'" data-duration="'+e+'"><div class="trackname">'+a+'</div><div class="play_cont"><a href="#" class="bplay"><i class="icon-play"></i></a></div><div class="audio_wrapper"><div class="audio_container"><div class="audio_thingie"></div></div></div></div>')}function streamTrack(i,a){SC.stream("/tracks/"+a,function(e){function t(){$(".clearfix."+a).find(".audio_thingie").stop().animate({marginLeft:e.position*$(".clearfix."+a).find(".audio_container").width()/i},300)}function n(){clearInterval(l),l=setInterval(function(){0===e.playState&&(c=!1,$(".clearfix."+a).find(".bplay").html('<i class="icon-play"></i>'),clearInterval(l)),$(".clearfix."+a).find(".audio_thingie").css("margin-left",e.position*$(".clearfix."+a).find(".audio_container").width()/i)},500)}function o(){e.paused||0===e.playState?(e.play(),play=!0,$(".clearfix."+a).find(".bplay").html('<i class="icon-pause"></i>'),n()):(e.pause(),play=!1,$(".clearfix."+a).find(".bplay").html('<i class="icon-play"></i>'),clearInterval(l))}var l,c=!1;$(".clearfix."+a).find(".bplay").on("click",function(i){i.preventDefault(),o()}),$(".clearfix."+a).find(".audio_thingie").on("mousedown",function(){$(".clearfix."+a).find(".audio_wrapper").mousemove(function(i){var e=i.pageX-this.offsetLeft-10;0>e?$(".clearfix."+a).find(".audio_thingie").css("margin-left","0"):e>$(".clearfix."+a).find(".audio_wrapper").width()?$(".clearfix."+a).find(".audio_thingie").css("margin-left",$(".clearfix."+a).find(".audio_wrapper").width()):$(".clearfix."+a).find(".audio_thingie").css("margin-left",e),clearInterval(l)}),$(".clearfix."+a).find(".audio_wrapper").on("mouseleave",function(){$(".clearfix."+a).find(".audio_wrapper").unbind("mousemove"),c===!1&&n()})}),$(".clearfix."+a).find(".audio_wrapper").on("mouseup",function(){$(".clearfix."+a).find(".audio_wrapper").unbind("mousemove"),c===!0&&n()}),$(".clearfix."+a).find(".audio_wrapper").on("click",function(n){var o=$(this).offset().left,l=n.pageX-o-10,c=l*i/$(".clearfix."+a).find(".audio_container").width();e.setPosition(c),t()})})}$(document).ready(function(){function i(){-3==window.sliActMarg&&(window.way=0),0==window.sliActMarg&&(window.way=1),1==window.way?a("right",window.sliActMarg):a("left",window.sliActMarg)}function a(i,a){posicion=100*a,"right"==i?window.sliActMarg>-3&&(window.sliActMarg--,$(".sli-container").stop().animate({marginLeft:posicion-100+"%"})):window.sliActMarg<0&&(window.sliActMarg++,$(".sli-container").stop().animate({marginLeft:posicion+100+"%"}))}function e(){$(".elipseme").dotdotdot({wrap:"word",fallbackToLetter:!0,watch:!0})}window.sliActMarg=0,$(".sli-control").on("click",function(){$(this).hasClass("right")?a("right",window.sliActMarg):a("left",window.sliActMarg)}),window.sliderTimer=setInterval(function(){i()},7e3),window.way=1,$(".sli-main").hover(function(){clearInterval(window.sliderTimer)},function(){window.sliderTimer=setInterval(function(){i()},7e3)}),e(),$(".share").on("click","li",function(){function i(i,e,t,n){var o;o="sfb"==e?"https://facebook.com/sharer/sharer.php?u="+i:"sgp"==e?"https://plus.google.com/share?url="+i:"https://twitter.com/intent/tweet?text="+n+"&url="+i+"&via=Tribunadeportes",a=window.open(o,"","status=yes, height=500; width=500; resizeable=0")}var a,e=$(".share").data("shurl"),t=$(".share").data("shimg"),n=$(".share").data("shcap"),o=$(this).attr("class");i(e,o,t,n)})}),$(".menubutton").on("click","a",function(i){i.preventDefault(),$(".navegacion").stop().slideToggle()});var elCanalDeYoutubeQueQuieresVer="canalpuebla";$.getJSON("https://gdata.youtube.com/feeds/api/users/"+elCanalDeYoutubeQueQuieresVer+"/uploads/?max-results=50&q=deportes&alt=json",function(i){function a(){d=!d,$(".video-menu-wrapper").find(".video-menu").show(),$(".video-menu-wrapper").stop().slideToggle(function(){$(".pull a").html('<i class="icon-angle-up"></i>')})}function e(){d=!d,$(".video-menu-wrapper").stop().slideToggle(function(){$(".pull a").html('<i class="icon-angle-down"></i>'),$(".video-menu-wrapper").find(".video-menu").hide()})}var t=i.feed.entry,n=[];n=t;var o=n[0].id.$t;o=o.replace("http://gdata.youtube.com/feeds/api/videos/","https://www.youtube.com/embed/"),$(".actual-video").html('<iframe id="ytplayer" type="text/html" width="100%" height="100%" src="'+o+'" frameborder="0" allowfullscreen></iframe>'),$(".desk-actual-video").html('<iframe id="ytplayer" type="text/html" width="100%" height="100%" src="'+o+'" frameborder="0" allowfullscreen></iframe>'),$(".desk-home-video-component,.home-video-component").on("click","a",function(i){i.preventDefault()});var l=!0;for($(".desk-video-menu").find("header span").html(n[0].author[0].name.$t),k=0;k<n.length;k++){var c=n[k].id.$t;c=c.replace("http://gdata.youtube.com/feeds/api/videos/","https://www.youtube.com/embed/"),$(".desk-video-menu > ul").append('<li class="desk-video-min"><a href="" data-videocall="'+c+'"><img src="'+n[k].media$group.media$thumbnail[1].url+'" alt="img"><div class="desk-vid-cap"><span>'+n[k].title.$t+"</span></div></a></li>")}$(".desk-pull").on("click",function(){l===!0?($(".desk-video-menu-wrapper").animate({width:"0%"}),$(".desk-actual-video").animate({width:"95%"},function(){$(".desk-pull a").html('<i class="icon-angle-left"></i>')}),l=!l):($(".desk-video-menu-wrapper").animate({width:"35%"}),$(".desk-actual-video").animate({width:"60%"},function(){$(".desk-pull a").html('<i class="icon-angle-right"></i>')}),l=!l)}),$(".desk-video-min").on("click","a",function(){$(".desk-actual-video iframe").attr("src",$(this).data("videocall"))});var d=!1;for($(".video-menu").find("header span").html(n[0].author[0].name.$t),k=0;k<n.length;k++){var c=n[k].id.$t;c=c.replace("http://gdata.youtube.com/feeds/api/videos/","https://www.youtube.com/embed/"),$(".video-menu > ul").append('<li class="video-min"><a href="" data-videocall="'+c+'"><img src="'+n[k].media$group.media$thumbnail[1].url+'" alt="img"><div class="vid-cap"><span>'+n[k].title.$t+"</span></div></a></li>")}$(".video-min").on("click","a",function(){$(".actual-video iframe").attr("src",$(this).data("videocall")),e()}),$(".home-video-component .pull").on("click","a",function(){d===!1?a():e()})}),SC.initialize({client_id:"fadfafec99840a9bab19d077b12fd206"});var url="https://api.soundcloud.com/tracks.json?user_id=tribuna-deportes-oficial&client_id=fadfafec99840a9bab19d077b12fd206",trackPosition=-1;$.getJSON(url,function(i){theAudioLoop(i,4),$(".mastracks").on("click",function(a){a.preventDefault(),theAudioLoop(i,2)})}),$(".calday").on("click",function(){elEvent=$(this).index(".calday"),$(this).data("calfecha")!=$(".fechactiva").attr("id")?($(".activo").removeClass("activo"),$(this).toggleClass("activo"),$(".fechactiva").slideToggle().removeClass("fechactiva"),$("#"+$(this).data("calfecha")).addClass("fechactiva").slideToggle()):($(this).toggleClass("activo"),$(".fechactiva").slideToggle().toggleClass("fechactiva"))});